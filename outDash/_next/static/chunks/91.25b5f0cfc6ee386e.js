"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{2575:(e,a,t)=>{t.d(a,{t:()=>o});let o=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=localStorage.getItem("token");if(!t)throw Error("Token n\xe3o encontrado. Usu\xe1rio n\xe3o autenticado.");let o=new Headers(a.headers||{});return o.set("Authorization","".concat(t)),fetch(e,{...a,headers:o,credentials:"include"})}},3140:(e,a,t)=>{t.d(a,{A:()=>i});var o=t(5155),r=t(2115),l=t(760),s=t(7869);let n={success:{iconColor:"text-green-500",bgColor:"bg-green-100",darkBgColor:"dark:bg-green-800",darkTextColor:"dark:text-green-200",svgPath:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"},error:{iconColor:"text-red-500",bgColor:"bg-red-100",darkBgColor:"dark:bg-red-800",darkTextColor:"dark:text-red-200",svgPath:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"},warning:{iconColor:"text-orange-500",bgColor:"bg-orange-100",darkBgColor:"dark:bg-orange-700",darkTextColor:"dark:text-orange-200",svgPath:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"}},i=e=>{let{type:a,message:t,duration:i=4e3}=e,[c,d]=(0,r.useState)(!0),u=n[a];return(0,r.useEffect)(()=>{let e=setTimeout(()=>d(!1),i);return()=>clearTimeout(e)},[i]),(0,o.jsx)(l.N,{children:c&&(0,o.jsxs)(s.P.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow-sm dark:text-black-400 dark:bg-gray-100",role:"alert",children:[(0,o.jsx)("div",{className:"inline-flex items-center justify-center shrink-0 w-8 h-8 ".concat(u.iconColor," ").concat(u.bgColor," rounded-lg ").concat(u.darkBgColor," ").concat(u.darkTextColor),children:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{d:u.svgPath})})}),(0,o.jsx)("div",{className:"ms-3 text-sm font-normal",children:t})]})})}},7091:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var o=t(5155),r=t(2115),l=t(5920),s=t(3816),n=t(3140),i=t(7869),c=t(760),d=t(2398),u=t(1555),g=t(2575);let x=e=>{let{isOpen:a,onClose:t}=e,[l,s]=(0,r.useState)({nome:"",autenticacao:"",cargo:"",salario:""}),[x,m]=(0,r.useState)(null),h=e=>{s({...l,[e.target.name]:e.target.value})},p=async()=>{let{nome:e,autenticacao:a,cargo:t,salario:o}=l;if(!e||!a||!t||!o){m("warning");return}try{let e=await (0,g.t)("http://localhost:8080/funcionario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,salario:Number(o)})});if(!e.ok)throw Error("Erro ao cadastrar funcion\xe1rio.");let a=await e.json();console.log("Success:",a),m("success"),s({nome:"",autenticacao:"",cargo:"",salario:""})}catch(e){console.error("Error:",e),m("error")}};return a?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,o.jsxs)(i.P.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[(0,o.jsx)("div",{className:"fixed top-4 right-4 z-[9999] space-y-2",children:(0,o.jsxs)(c.N,{children:["success"===x&&(0,o.jsx)(n.A,{type:"success",message:"Funcion\xe1rio registrado com sucesso."},"success"),"error"===x&&(0,o.jsx)(n.A,{type:"error",message:"Erro ao registrar funcion\xe1rio."},"error"),"warning"===x&&(0,o.jsx)(n.A,{type:"warning",message:"Preencha todos os campos antes de enviar."},"warning")]})}),(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h1",{className:"text-xl font-bold text-gray-700",children:"Registrar Funcion\xe1rio"}),(0,o.jsx)("button",{onClick:t,className:"hover:!bg-[color:#bdbdbd] !text-[color:#4a312a] hover:!text-black-800 text-2xl w-8 h-8 rounded",children:"\xd7"})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("input",{type:"text",name:"nome",placeholder:"Nome",value:l.nome,onChange:h,className:"w-full p-2 border rounded text-gray-500"}),(0,o.jsx)("input",{type:"text",name:"autenticacao",placeholder:"Autentica\xe7\xe3o",value:l.autenticacao,onChange:h,className:"w-full p-2 border rounded text-gray-500"}),(0,o.jsx)("input",{type:"text",name:"cargo",placeholder:"Cargo",value:l.cargo,onChange:h,className:"w-full p-2 border rounded text-gray-500"}),(0,o.jsx)(u.HG,{name:"salario",value:l.salario,onValueChange:e=>{let{value:a}=e;s(e=>({...e,salario:a}))},thousandSeparator:".",decimalSeparator:",",prefix:"R$",allowNegative:!1,className:"w-full p-2 border rounded text-gray-500",placeholder:"Sal\xe1rio"}),(0,o.jsx)(d.$,{text:!0,raised:!0,className:"!bg-[color:#e3b963] hover:!bg-[color:#c49d54] !font-bold !text-white p-2 rounded w-full items-center justify-center",onClick:p,children:"Registrar Funcion\xe1rio"})]})]})}):null};var m=t(4396),h=t(4662),p=t(6277),f=t(7298);t(6103),t(7616),t(7922);let b=()=>{let[e,a]=(0,r.useState)([]),[t,n]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),[u,b]=(0,r.useState)(!1),[y,w]=(0,r.useState)({global:{value:"",matchMode:m.Rn.CONTAINS}});(0,r.useEffect)(()=>{v()},[]);let j=e=>{(0,f.Z)({message:"Voc\xea tem certeza que deseja deletar este funcion\xe1rio?",header:"Confirma\xe7\xe3o",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim",rejectLabel:"N\xe3o",acceptClassName:"p-button-danger",rejectClassName:"!bg-gray-600 hover:!bg-gray-700 text-black",accept:async()=>{await C(e),v()}})},v=async()=>{n(!0);try{let e=await (0,g.t)("http://localhost:8080/funcionario");if(!e.ok){let a=await e.text();throw Error("Erro ".concat(e.status,": ").concat(a||e.statusText))}let t=await e.json();a(t)}catch(e){e instanceof Error?(console.error("Erro ao buscar funcion\xe1rios:",e),c(e.message)):c("Ocorreu um erro desconhecido.")}finally{n(!1)}},N=async t=>{let o=t.newData;try{await (0,g.t)("http://localhost:8080/funcionario/".concat(o.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});let r=[...e];r[t.index]=o,a(r),v()}catch(e){console.error("Erro ao atualizar funcion\xe1rio:",e)}},C=async t=>{try{await (0,g.t)("http://localhost:8080/funcionario/".concat(t),{method:"DELETE"}),a(e.filter(e=>e.id!==t))}catch(e){console.error("Erro ao deletar funcion\xe1rio:",e)}},k=e=>(0,o.jsx)(p.S,{value:e.value,onChange:a=>{e.editorCallback&&e.editorCallback(a.target.value)}}),S=(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[(0,o.jsx)(d.$,{text:!0,icon:"pi pi-filter-slash",label:"Limpar",className:"w-full sm:w-auto !text-[color:#4a312a]",onClick:()=>w({global:{value:"",matchMode:m.Rn.CONTAINS}})}),(0,o.jsx)("span",{className:"p-input-icon-left w-full sm:w-auto",children:(0,o.jsx)(p.S,{value:"value"in y.global?y.global.value:"",onChange:e=>{let a=e.target.value,t={...y},o=t.global;"value"in o&&(o.value=a,t.global=o),w(t)},placeholder:"Pesquisar...",className:"w-full sm:w-64"})})]});return t?(0,o.jsxs)("div",{className:"flex items-center justify-center h-screen w-full",children:[" ",(0,o.jsx)(s.A,{size:"150",speed:"2.5",color:"Brown"})," "]}):i?(0,o.jsxs)("div",{children:["Erro: ",i]}):(0,o.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-full space-y-4",children:[(0,o.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Lista de Funcion\xe1rios"}),(0,o.jsx)("div",{className:"overflow-x-auto ",children:(0,o.jsxs)(l.b,{filters:y,globalFilterFields:["nome","autenticacao","cargo","salario"],header:S,value:e,editMode:"row",dataKey:"id",paginator:!0,rows:5,onRowEditComplete:N,responsiveLayout:"scroll",stripedRows:!0,showGridlines:!0,emptyMessage:"Nenhum funcion\xe1rio encontrado",className:"min-w-full",children:[(0,o.jsx)(h.V,{field:"nome",header:"Nome",editor:k,sortable:!0}),(0,o.jsx)(h.V,{field:"autenticacao",header:"Autentica\xe7\xe3o",editor:k,sortable:!0}),(0,o.jsx)(h.V,{field:"salario",header:"Sal\xe1rio",editor:e=>(0,o.jsx)(p.S,{value:e.value,onChange:a=>{let t=parseFloat(a.target.value);e.editorCallback&&!isNaN(t)&&e.editorCallback(t)}}),body:e=>"R$ ".concat(e.salario.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),sortable:!0}),(0,o.jsx)(h.V,{field:"cargo",header:"Cargo",editor:k,sortable:!0}),(0,o.jsx)(h.V,{rowEditor:!0,header:"",bodyStyle:{textAlign:"center"}}),(0,o.jsx)(h.V,{body:e=>(0,o.jsx)(d.$,{icon:"pi pi-trash",className:"p-button-danger p-button-icon-only",onClick:()=>j(e.id),"aria-label":"Deletar funcion\xe1rio"}),header:"",bodyStyle:{textAlign:"center"}})]})}),(0,o.jsx)(d.$,{text:!0,raised:!0,onClick:()=>b(!0),className:"!bg-[color:#e3b963] hover:!bg-[color:#c49d54] !font-bold !text-white p-2 rounded w-full items-center justify-center ",children:"Adicionar Funcion\xe1rio"}),(0,o.jsx)(x,{isOpen:u,onClose:()=>{b(!1),v()}}),(0,o.jsx)(f.T,{})]})}}}]);