(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2575:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});let o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("token");if(!r)throw Error("Token n\xe3o encontrado. Usu\xe1rio n\xe3o autenticado.");let o=new Headers(t.headers||{});return o.set("Authorization","".concat(r)),fetch(e,{...t,headers:o,credentials:"include"})}},6103:()=>{},6616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var o=r(5155),a=r(2115),n=r(5695),s=r(2398),l=r(6512),i=r(2575);function c(){let[e,t]=(0,a.useState)(""),[r,c]=(0,a.useState)(""),[u,d]=(0,a.useState)([]),[h,f]=(0,a.useState)(null),[g,p]=(0,a.useState)(""),m=(0,n.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,i.t)("http://localhost:8080/funcionario"),t=await e.json();d(t)}catch(e){console.error("Erro ao buscar funcion\xe1rios:",e),p("Erro ao carregar funcion\xe1rios.")}})()},[]);let w=async()=>{if(!h){p("Selecione um funcion\xe1rio.");return}try{if(!(await fetch("http://localhost:8080/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,password:r,idFuncionario:h.id})})).ok)throw Error("Registro falhou");m.push("/login")}catch(e){console.error(e),p("Erro ao registrar. Tente novamente.")}};return(0,o.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:(0,o.jsxs)("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md space-y-3",children:[(0,o.jsx)("h1",{className:"text-xl font-bold text-gray-700",children:"Registrar"}),g&&(0,o.jsx)("p",{className:"text-red-500 mb-2",children:g}),(0,o.jsx)(l.m,{value:h,options:u,onChange:e=>f(e.value),optionLabel:"nome",placeholder:"Selecione o funcion\xe1rio",className:"w-full"}),(0,o.jsx)("input",{type:"text",placeholder:"Login",className:"w-full p-2 border rounded text-gray-500",value:e,onChange:e=>t(e.target.value)}),(0,o.jsx)("input",{type:"password",placeholder:"Senha",className:"w-full p-2 border rounded text-gray-500",value:r,onChange:e=>c(e.target.value)}),(0,o.jsx)(s.$,{raised:!0,className:"!bg-[color:#e3b963] hover:!bg-[color:#c49d54] !font-bold !text-white p-2 rounded w-full justify-center",onClick:w,children:"Registrar"})]})})}r(6103),r(7616),r(7922)},7093:(e,t,r)=>{Promise.resolve().then(r.bind(r,6616))},7616:()=>{},7922:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[638,363,512,124,441,684,358],()=>t(7093)),_N_E=e.O()}]);